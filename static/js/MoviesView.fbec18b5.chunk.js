"use strict";(self.webpackChunkreact_assignment_moviesearch=self.webpackChunkreact_assignment_moviesearch||[]).push([[564],{9509:function(e,t,n){n.d(t,{FV:function(){return b},JS:function(){return p},dc:function(){return f},ds:function(){return _},kE:function(){return x},ts:function(){return m}});var r=n(5861),a=n(7757),s=n.n(a),c=n(4569),u=n.n(c),i=n(5264);u().defaults.baseURL="https://api.themoviedb.org/3";var o="2a8ba5d6d1e87afb6f0a309b33e3467f";function p(){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/trending/movie/week?api_key=".concat(o));case 2:return t=e.sent,n=t.data.results,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/search/movie?api_key=".concat(o,"&query=").concat(t));case 2:return n=e.sent,r=n.data.results,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/movie/".concat(t,"?api_key=").concat(o));case 2:return n=e.sent,r=n.data,console.log(r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/movie/".concat(t,"/credits?api_key=").concat(o));case 2:return n=e.sent,r=n.data.cast,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/movie/".concat(t,"/reviews?api_key=").concat(o));case 2:return n=e.sent,r=n.data.results,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/movie/".concat(t,"/videos?api_key=").concat(o));case 2:if(n=e.sent,r=n.data.results,!(a=r.filter((function(e){return"Trailer"===e.type})).pop())){e.next=9;break}return e.abrupt("return",a);case 9:return i.Notify.warning("There is no trailer for current movie!"),e.abrupt("return","No trailer was found!");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7988:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(8152),a=n(2791),s=n(6871),c=n(9509),u="Title_title__0nisx",i=n(184);function o(e){var t=e.title;return(0,i.jsx)("h2",{className:u,children:t})}var p="SearchForm_form__o80os",l="SearchForm_input__HOxJo",f="SearchForm_button__UXY06",h="SearchForm_input__field__UuRZx",m="SearchForm_label__GvSVH",v="SearchForm_focus__bg__77XPS";function _(e){var t=e.query,n=e.onSubmit,r=e.onChange;return(0,i.jsxs)("form",{className:p,onSubmit:n,children:[(0,i.jsxs)("label",{htmlFor:"inp",className:h,children:[(0,i.jsx)("input",{className:l,id:"inp",onChange:r,value:t,placeholder:"\xa0",type:"text"}),(0,i.jsx)("span",{className:m,children:"Movie Name"}),(0,i.jsx)("span",{className:v})]}),(0,i.jsx)("button",{className:f,type:"submit",children:"Search"})]})}var d="MoviesPageView_movie_box__2gDO1",x="MoviesPageView_results__error__pM89d",y=(0,a.lazy)((function(){return n.e(852).then(n.bind(n,8312))}));function b(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),n=t[0],u=t[1],p=(0,a.useState)([]),l=(0,r.Z)(p,2),f=l[0],h=l[1],m=(0,s.s0)(),v=(0,s.TH)(),b=new URLSearchParams(v.search).get("query");console.log(b),(0,a.useEffect)((function(){b&&(0,c.dc)(b).then(h)}),[b]);return(0,i.jsxs)("div",{className:d,children:[(0,i.jsx)(o,{title:"Search results"}),(0,i.jsx)(_,{query:n,onSubmit:function(e){e.preventDefault(),(0,c.dc)(n).then(h),m({pathname:m.location,search:"?query=".concat(n)})},onChange:function(e){u(e.target.value)}}),(0,i.jsx)(a.Suspense,{fallback:(0,i.jsx)("h2",{children:"Loading movie list..."}),children:0===f.length&&b?(0,i.jsx)("h2",{className:x,children:"There's no movies for your search request!"}):(0,i.jsx)(y,{movies:f})})]})}}}]);
//# sourceMappingURL=MoviesView.fbec18b5.chunk.js.map